diff -Naur xorg-server-1.17.1/hw/xfree86/common/xf86Xinput.c xorg-server-1.17.1_fix/hw/xfree86/common/xf86Xinput.c
--- xorg-server-1.17.1/hw/xfree86/common/xf86Xinput.c	2015-01-17 23:42:52.000000000 +0000
+++ xorg-server-1.17.1_fix/hw/xfree86/common/xf86Xinput.c	2019-01-31 12:33:11.066838906 +0000
@@ -84,6 +84,9 @@
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <unistd.h>
+
+#include <sys/sysmacros.h>
+
 #ifdef HAVE_SYS_MKDEV_H
 #include <sys/mkdev.h>          /* for major() & minor() on Solaris */
 #endif
diff -Naur xorg-server-1.17.1/hw/xfree86/os-support/linux/lnx_init.c xorg-server-1.17.1_fix/hw/xfree86/os-support/linux/lnx_init.c
--- xorg-server-1.17.1/hw/xfree86/os-support/linux/lnx_init.c	2014-09-19 05:28:27.000000000 +0000
+++ xorg-server-1.17.1_fix/hw/xfree86/os-support/linux/lnx_init.c	2019-01-31 12:35:36.521548514 +0000
@@ -36,6 +36,7 @@
 #include "xf86Priv.h"
 #include "xf86_OSlib.h"
 
+#include <sys/sysmacros.h>
 #include <sys/stat.h>
 
 #ifndef K_OFF
diff -Naur xorg-server-1.17.1/hw/xfree86/xorg-wrapper.c xorg-server-1.17.1_fix/hw/xfree86/xorg-wrapper.c
--- xorg-server-1.17.1/hw/xfree86/xorg-wrapper.c	2015-01-17 23:42:52.000000000 +0000
+++ xorg-server-1.17.1_fix/hw/xfree86/xorg-wrapper.c	2019-01-31 12:39:00.277327094 +0000
@@ -35,6 +35,7 @@
 #include <sys/ioctl.h>
 #include <sys/stat.h>
 #include <sys/types.h>
+#include <sys/sysmacros.h>
 #if defined(__FreeBSD__) || defined(__FreeBSD_kernel__)
 #include <sys/consio.h>
 #endif
